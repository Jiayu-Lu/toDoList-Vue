(function(t){function e(e){for(var n,d,r=e[0],a=e[1],l=e[2],u=0,f=[];u<r.length;u++)d=r[u],Object.prototype.hasOwnProperty.call(i,d)&&i[d]&&f.push(i[d][0]),i[d]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);c&&c(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,r=1;r<o.length;r++){var a=o[r];0!==i[a]&&(n=!1)}n&&(s.splice(e--,1),t=d(d.s=o[0]))}return t}var n={},i={app:0},s=[];function d(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,d),o.l=!0,o.exports}d.m=t,d.c=n,d.d=function(t,e,o){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},d.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,e){if(1&e&&(t=d(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(d.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)d.d(o,n,function(e){return t[e]}.bind(null,n));return o},d.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="/toDoList-Vue/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var c=a;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"099a":function(t,e,o){"use strict";o("0be7")},"0be7":function(t,e,o){},"51a2":function(t,e,o){"use strict";o("a016")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("b-container",[o("b-row",{attrs:{"align-h":"center"}},[o("b-col",{attrs:{sm:"10",xs:"12"}},[o("ListHeader",{on:{addTodo:t.addTodo}}),o("ListFooter",{attrs:{todos:t.todos,checkAllTodo:t.checkAllTodo,clearAllTodo:t.clearAllTodo}}),o("List",{attrs:{todos:t.todos,checkTodo:t.checkTodo,deleteTodo:t.deleteTodo}})],1)],1)],1)],1)},s=[],d=(o("159b"),o("4de4"),o("8e91")),r=o.n(d),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-header"},[o("b-form-input",{attrs:{placeholder:"Enter a task and press enter"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add.apply(null,arguments)}},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),o("button",{staticClass:"list-header-button enter",on:{click:t.add}},[t._v("Enter")])],1)},l=[],c=(o("498a"),o("e1bd")),u={name:"ListHeader",data:function(){return{text:""}},methods:{add:function(){if(!this.text.trim())return alert("Input cannot be empty");var t={id:Object(c["a"])(),title:this.text,done:!1,isEdit:!1};this.$emit("addTodo",t),this.text=""}}},f=u,h=(o("51a2"),o("2877")),p=Object(h["a"])(f,a,l,!1,null,"62025dfb",null),b=p.exports,m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._l(t.todos,(function(e){return o("ListItem",{key:e.id,attrs:{todo:e,checkTodo:t.checkTodo,deleteTodo:t.deleteTodo}})})),1)},v=[],T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-item"},[o("b-form-checkbox",{staticClass:"list-item-text",attrs:{checked:t.todo.done},on:{change:function(e){return t.handleCheck(t.todo.id)}}},[o("span",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}]},[t._v(t._s(t.todo.title))]),o("input",{directives:[{name:"show",rawName:"v-show",value:t.todo.isEdit,expression:"todo.isEdit"}],ref:"inputTitle",attrs:{type:"text"},domProps:{value:t.todo.title},on:{blur:function(e){return t.handleBlur(t.todo,e)}}})]),o("button",{directives:[{name:"show",rawName:"v-show",value:t.todo.isEdit,expression:"todo.isEdit"}],staticClass:"list-item-button confirm",on:{click:function(e){return t.handleConfirm(t.todo,e)}}},[t._v("Confirm")]),o("button",{directives:[{name:"show",rawName:"v-show",value:t.todo.isEdit,expression:"todo.isEdit"}],staticClass:"list-item-button cancel",on:{click:function(e){return t.handleCancel(t.todo)}}},[t._v("Cancel")]),o("button",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}],staticClass:"list-item-button edit",on:{click:function(e){return t.handleEdit(t.todo)}}},[t._v("Edit")]),o("button",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}],staticClass:"list-item-button delete",on:{click:function(e){return t.handleDelete(t.todo.id)}}},[t._v("Delete")])],1)},k=[],x={name:"ListItem",props:["todo","checkTodo","deleteTodo"],methods:{handleCheck:function(t){this.checkTodo(t)},handleDelete:function(t){confirm("Are you sure you want to delete this task")&&r.a.publish("deleteTodo",t)},handleEdit:function(t){t.isEdit=!0,this.$nextTick((function(){this.$refs.inputTitle.focus()}))},handleBlur:function(t,e){if(this.todo.isEdit=!1,!e.target.value.trim())return alert("the task cannot be empty");r.a.publish("updateTodo",{todoId:t.id,todoTitle:e.target.value})},handleConfirm:function(t,e){if(this.todo.isEdit=!1,!e.target.value.trim())return alert("the task cannot be empty");r.a.publish("updateTodo",{todoId:t.id,todoTitle:e.target.value})},handleCancel:function(t){t.isEdit=!1}}},y=x,w=(o("c965"),Object(h["a"])(y,T,k,!1,null,"70ffc753",null)),E=w.exports,_={name:"List",components:{ListItem:E},props:["todos","checkTodo","deleteTodo"]},g=_,C=Object(h["a"])(g,m,v,!1,null,"e4931adc",null),O=C.exports,A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-footer"},[o("label",[o("input",{attrs:{type:"checkbox"},domProps:{checked:t.isAll},on:{change:t.checkAll}}),o("span",[t._v(" Finish "+t._s(t.doneTotal)+"/ All "+t._s(t.total)+" ")])]),o("b-progress",{staticClass:"todo-progess",attrs:{max:t.max,animated:""}},[o("b-progress-bar",{attrs:{value:t.value,label:(t.value/t.max*100).toFixed(0)+"%"}})],1),o("button",{staticClass:"list-item-button",on:{click:t.clearAll}},[t._v("Delete all finished tasks")])],1)},j=[],I={name:"ListFooter",props:["todos","checkAllTodo","clearAllTodo"],data:function(){return{max:100}},computed:{value:function(){return 0===this.total?0:this.doneTotal/this.total*100},total:function(){return this.todos.length},doneTotal:function(){return this.todos.reduce((function(t,e){return t+(e.done?1:0)}),0)},isAll:function(){return this.doneTotal===this.total&&this.total>0}},methods:{checkAll:function(t){this.checkAllTodo(t.target.checked)},clearAll:function(){confirm("are you sure to delete all finished tasks")&&this.clearAllTodo()}}},L=I,P=(o("099a"),Object(h["a"])(L,A,j,!1,null,"9df73f42",null)),S=P.exports,$={name:"App",components:{ListHeader:b,List:O,ListFooter:S},data:function(){return{todos:JSON.parse(localStorage.getItem("todos"))||[],pubId:""}},methods:{addTodo:function(t){this.todos.unshift(t)},checkTodo:function(t){this.todos.forEach((function(e){e.id===t&&(e.done=!e.done)}))},deleteTodo:function(t,e){this.todos=this.todos.filter((function(t){return t.id!==e}))},checkAllTodo:function(t){this.todos.forEach((function(e){e.done=t}))},clearAllTodo:function(){this.todos=this.todos.filter((function(t){return!t.done}))},updateTodo:function(t,e){this.todos.forEach((function(t){t.id===e.todoId&&(t.title=e.todoTitle)}))}},watch:{todos:{deep:!0,handler:function(t){localStorage.setItem("todos",JSON.stringify(t))}}},mounted:function(){this.deleteTodoPubId=r.a.subscribe("deleteTodo",this.deleteTodo),this.updateTodoPubId=r.a.subscribe("updateTodo",this.updateTodo)},beforeDestroy:function(){r.a.unsubscribe(this.deleteTodoPubId),r.a.unsubscribe(this.updateTodoPubId)}},N=$,D=(o("034f"),Object(h["a"])(N,i,s,!1,null,null,null)),F=D.exports,J=(o("f9e3"),o("2dd8"),o("5f5b")),M=o("b1e0");n["default"].config.productionTip=!1,n["default"].use(J["a"]),n["default"].use(M["a"]),new n["default"]({render:function(t){return t(F)}}).$mount("#app")},"85ec":function(t,e,o){},"90bd":function(t,e,o){},a016:function(t,e,o){},c965:function(t,e,o){"use strict";o("90bd")}});
//# sourceMappingURL=app.a6c9a594.js.map